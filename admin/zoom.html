<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Carina | Annotate</title>
        <meta charset="utf-8">
            <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen">
                <link rel="stylesheet" href="css/style.css" type="text/css" media="screen">
                    <link rel="stylesheet" href="css/layout.css" type="text/css" media="screen">
                        <script type="text/javascript" src="js/jquery-1.6.min.js"></script>
                        <script src="js/cufon-yui.js" type="text/javascript"></script>
                        <script src="js/cufon-replace.js" type="text/javascript"></script>
                        <script src="js/Open_Sans_400.font.js" type="text/javascript"></script>
                        <script src="js/Open_Sans_Light_300.font.js" type="text/javascript"></script>
                        <script src="js/Open_Sans_Semibold_600.font.js" type="text/javascript"></script>
                        <script src="js/FF-cash.js" type="text/javascript"></script>
                        <!--[if lt IE 9]>
                         <script type="text/javascript" src="js/html5.js"></script>
                         <link rel="stylesheet" href="css/ie.css" type="text/css" media="screen">
                         <![endif]-->
<div id="container">
    <canvas id="myCanvas" width="500" height="300"></canvas>
    </div>
        <span id="minus">-Zoom Out</span>&nbsp;&nbsp;<span id="plus">+Zoom In</span><span id="fit">FIT</span>


<script>
    function draw(scale){
        var canvas = document.getElementById("myCanvas");
        var context = canvas.getContext("2d");
        var iNewWidth = canvas.width * scale;
        var iNewHeight = canvas.height * scale;
        if (iNewWidth < 500) { iNewWidth = 500; }
        if (iNewHeight < 300) { iNewHeight = 300; }
        canvas.width = iNewWidth;
        canvas.height = iNewHeight;
        
        var img = new Image();
        img.src = "http://www.html5canvastutorials.com/demos/assets/darth-vader.jpg";
        
        // clear canvas
        context.clearRect(0, 0, canvas.width, canvas.height);
        
        context.save();
        
        
        context.drawImage(img,0,0,canvas.width,canvas.height);
        
    }

var initialize = (function(){
                  var canvas = document.getElementById("myCanvas");
                  
                  
                  
                  var scale = 1.0;
                  var scaleMultiplier = 0.8;
                  
                  document.getElementById("fit").addEventListener("click", function(){debugger
                                                                  
                                                                  draw(1);
                                                                  }, false);
                  // add button event listeners
                  document.getElementById("plus").addEventListener("click", function(){
                                                                   scale /= scaleMultiplier;
                                                                   draw(scale);
                                                                   }, false);
                  
                  document.getElementById("minus").addEventListener("click", function(){
                                                                    scale *= scaleMultiplier;
                                                                    draw(scale);
                                                                    }, false);
                  
                  
                  // add event listeners to handle screen drag
                  
                  draw(scale);
                  }());
</script>
</html>